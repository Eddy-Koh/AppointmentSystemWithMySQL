@model AppointmentBookingSystem.Models.Appointment

@{ ViewBag.Title = "Edit Appointment"; }

<div class="container mt-4">
    <h2>Edit Appointment</h2>

    @using (Html.BeginForm())
    {
        @Html.HiddenFor(m => m.Id)

        <div class="form-group">
            <label>Name</label>
            @Html.TextBoxFor(m => m.RequesterName, new { @class = "form-control", @readonly = "readonly" })
        </div>

        <div class="form-group">
            <label>Appointment Date</label>
            <input type="date" name="AppointmentDate" class="form-control"
                   value="@Model.AppointmentDate.ToString("yyyy-MM-dd")"
                   min="@DateTime.Today.AddDays(1).ToString("yyyy-MM-dd")" required />
            @*@Html.EditorFor(m => m.AppointmentDate, new { htmlAttributes = new { @class = "form-control", type = "date",
                min = DateTime.Today.AddDays(1).ToString("yyyy-MM-dd") } })*@
            @Html.ValidationMessage("AppointmentDate", "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            <label>Start Time</label>
            <input type="time" name="StartTime" class="form-control" value="@Model.StartTime.ToString(@"hh\:mm")" min="08:00" max="17:00" required />
            @*@Html.EditorFor(m => m.StartTime, new { htmlAttributes = new { @class = "form-control", type = "time",
                min = "08:00", max = "17:00" } })*@
            @Html.ValidationMessage("StartTime", "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            <label>End Time</label>
            <input type="time" name="EndTime" class="form-control" value="@Model.EndTime.ToString(@"hh\:mm")" min="08:00" max="17:00" required />
            @*@Html.EditorFor(m => m.EndTime, new { htmlAttributes = new { @class = "form-control", type = "time",
                min = "08:00", max = "17:00" } })*@
            @Html.ValidationMessage("EndTime", "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            <label>Reason</label>
            @Html.TextBoxFor(m => m.Reason, new { @class = "form-control" })
        </div>

        <div class="form-group">
            <label>Status</label>
            @Html.TextBoxFor(m => m.Status, new { @class = "form-control", @readonly = "readonly" })
        </div>

        @Html.HiddenFor(m => m.Status)
        @Html.AntiForgeryToken()

        @Html.ValidationSummary(true, "", new { @class = "text-danger mb-3" })

        <button type="submit" class="btn btn-primary">Update</button>
        <a href="@Url.Action("Index", "Appointment")" class="btn btn-secondary ml-2">Back</a>
    }
</div>
